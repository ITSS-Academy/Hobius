<div id="info-container">
  <div id="book-title">
    <div id="header-title">
      <button mat-icon-button (click)="navigateBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <p id="title">The Call of Cthulhu</p>
    </div>

    </div>
  <div id="book-info-card">
    <div id="img-book-info">
      <img
        src="../public/assets/books-img/Cthulhu.png"
        alt="Trang Bìa "
        id="cover"
      />
    </div>
    <div id="book-info">
      <p id="author">Tác giả: H. P. Lovecraft</p>
      <p id="date">Đăng ngày: 14/08/2024</p>
      <p id="description">
        Mùa đông 1926-1927. Frances Wayland XNUMXthon, một công dân nổi tiếng
        của Boston, được thông báo về cái chết của người chú cố của mình, George
        G. Angell. Cái sau là một giáo sư ngôn ngữ lỗi lạc Tiếng Semitic từ Đại
        học Brown. Về cái chết có hai phiên bản: phiên bản chính thức, do tim
        ngừng đập xảy ra trong khi nhà giáo dục đang leo lên một đoạn đường dốc
        gần bến tàu.Thay vào đó, phiên bản thứ hai (từ một số nhân chứng) cho
        rằng một người đàn ông da đen đã đẩy giáo sư xuống đồi. Là người thừa kế
        duy nhất của anh ấy, Fiveon nhận tất cả tài liệu điều tra và đồ dùng cá
        nhân từ Angell. Trong số các văn bản và đồ đạc, có một chiếc hộp kỳ lạ
        chứa tác phẩm điêu khắc hình chữ nhật với những dòng chữ giống như chữ
        tượng hình.
      </p>
      <div id="btn">
        <div id="doc-btn-container">
          <button id="doc-btn" mat-flat-button><span>Đọc</span></button>
        </div>
        <div id="favorite-btn-container">
          <button
            mat-flat-button
            id="favorite"
            [class.active]="isFavorite"
            (click)="toggleFavorite()"
            (mouseenter)="onMouseEnter()"
            (mouseleave)="onMouseLeave()"
          >
            <mat-icon>favorite</mat-icon>
            <span>{{
                isFavorite ? (isHovering ? "Bỏ Thích" : "Đã Thích") : "Thêm thích"
              }}</span>
          </button>
        </div>
      </div>
    </div>

  </div>
  <div id="comment">
    <div id="header-comment">
      <div id="comment-title-header">
        <p id="comment-title">Bình luận</p>
        <button mat-icon-button (click)="toggleCommentInput()">
          <mat-icon id="add_comment" (click)="addComment()">add_comment</mat-icon>
        </button>
      </div>
    </div>
      <div id="comment-box">
      @for (comment of comments; track $index) {
        <div class="comment-content">
          <div class="user-comment">
            <img
              src="../public/assets/logos/temp_logo.jpg"
              class="avatar-comment"
            />
            <div class="comment-input">
              <p class="comment-name">{{ comment.name }}</p>
              <p #commentText class="comment-text"  [class.expanded]="comment.isExpanded">{{ comment.text }}</p>
              @if(comment.isOverflowing) {
                <button mat-icon-button (click)="toggleComment($index)">
                  <mat-icon>{{ comment.isExpanded ? 'expand_less' : 'expand_more' }}</mat-icon>
                </button>
              }
            </div>
          </div>
          <button mat-icon-button class="more-vert">
            <mat-icon>more_vert</mat-icon>
          </button>
        </div>
      }
    </div>
  </div>
</div>
